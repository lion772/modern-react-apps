{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\willi\\\\Documents\\\\modern-react-apps\\\\new-router-app\\\\frontend\\\\src\\\\pages\\\\EditEvent.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport EventForm from \"../components/EventForm\";\nimport { useRouteLoaderData, json, redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditEventPage = () => {\n  _s();\n  const data = useRouteLoaderData(\"event-detail\");\n  return /*#__PURE__*/_jsxDEV(EventForm, {\n    method: \"patch\",\n    event: data.event\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 12\n  }, this);\n};\n_s(EditEventPage, \"4DBW6nwrvXRMSwRBgIay5Sszcp8=\", false, function () {\n  return [useRouteLoaderData];\n});\n_c = EditEventPage;\nexport default EditEventPage;\nexport async function action(_ref) {\n  let {\n    request,\n    params\n  } = _ref;\n  const eventId = params.eventId;\n  const data = await request.formData();\n  const eventData = {\n    title: data.get(\"title\"),\n    image: data.get(\"image\"),\n    date: data.get(\"date\"),\n    description: data.get(\"description\")\n  };\n  const response = await fetch(`http://localhost:8080/events/${eventId}/edit`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(eventData)\n  });\n  if (response.status === 422) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({\n      message: \"Could not save event.\"\n    }, {\n      status: 500\n    });\n  } else {\n    return redirect(\"..\");\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"EditEventPage\");","map":{"version":3,"names":["React","EventForm","useRouteLoaderData","json","redirect","jsxDEV","_jsxDEV","EditEventPage","_s","data","method","event","fileName","_jsxFileName","lineNumber","columnNumber","_c","action","_ref","request","params","eventId","formData","eventData","title","get","image","date","description","response","fetch","headers","body","JSON","stringify","status","ok","message","$RefreshReg$"],"sources":["C:/Users/willi/Documents/modern-react-apps/new-router-app/frontend/src/pages/EditEvent.js"],"sourcesContent":["import React from \"react\";\r\nimport EventForm from \"../components/EventForm\";\r\nimport { useRouteLoaderData, json, redirect } from \"react-router-dom\";\r\n\r\nconst EditEventPage = () => {\r\n    const data = useRouteLoaderData(\"event-detail\");\r\n    return <EventForm method={\"patch\"} event={data.event} />;\r\n};\r\n\r\nexport default EditEventPage;\r\n\r\nexport async function action({ request, params }) {\r\n    const eventId = params.eventId;\r\n    const data = await request.formData();\r\n    const eventData = {\r\n        title: data.get(\"title\"),\r\n        image: data.get(\"image\"),\r\n        date: data.get(\"date\"),\r\n        description: data.get(\"description\"),\r\n    };\r\n    const response = await fetch(\r\n        `http://localhost:8080/events/${eventId}/edit`,\r\n        {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(eventData),\r\n        }\r\n    );\r\n\r\n    if (response.status === 422) {\r\n        return response;\r\n    }\r\n\r\n    if (!response.ok) {\r\n        throw json({ message: \"Could not save event.\" }, { status: 500 });\r\n    } else {\r\n        return redirect(\"..\");\r\n    }\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,SAASC,kBAAkB,EAAEC,IAAI,EAAEC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtE,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,IAAI,GAAGP,kBAAkB,CAAC,cAAc,CAAC;EAC/C,oBAAOI,OAAA,CAACL,SAAS;IAACS,MAAM,EAAE,OAAQ;IAACC,KAAK,EAAEF,IAAI,CAACE;EAAM;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC5D,CAAC;AAACP,EAAA,CAHID,aAAa;EAAA,QACFL,kBAAkB;AAAA;AAAAc,EAAA,GAD7BT,aAAa;AAKnB,eAAeA,aAAa;AAE5B,OAAO,eAAeU,MAAMA,CAAAC,IAAA,EAAsB;EAAA,IAArB;IAAEC,OAAO;IAAEC;EAAO,CAAC,GAAAF,IAAA;EAC5C,MAAMG,OAAO,GAAGD,MAAM,CAACC,OAAO;EAC9B,MAAMZ,IAAI,GAAG,MAAMU,OAAO,CAACG,QAAQ,CAAC,CAAC;EACrC,MAAMC,SAAS,GAAG;IACdC,KAAK,EAAEf,IAAI,CAACgB,GAAG,CAAC,OAAO,CAAC;IACxBC,KAAK,EAAEjB,IAAI,CAACgB,GAAG,CAAC,OAAO,CAAC;IACxBE,IAAI,EAAElB,IAAI,CAACgB,GAAG,CAAC,MAAM,CAAC;IACtBG,WAAW,EAAEnB,IAAI,CAACgB,GAAG,CAAC,aAAa;EACvC,CAAC;EACD,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CACvB,gCAA+BT,OAAQ,OAAM,EAC9C;IACIX,MAAM,EAAE,OAAO;IACfqB,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACX,SAAS;EAClC,CACJ,CAAC;EAED,IAAIM,QAAQ,CAACM,MAAM,KAAK,GAAG,EAAE;IACzB,OAAON,QAAQ;EACnB;EAEA,IAAI,CAACA,QAAQ,CAACO,EAAE,EAAE;IACd,MAAMjC,IAAI,CAAC;MAAEkC,OAAO,EAAE;IAAwB,CAAC,EAAE;MAAEF,MAAM,EAAE;IAAI,CAAC,CAAC;EACrE,CAAC,MAAM;IACH,OAAO/B,QAAQ,CAAC,IAAI,CAAC;EACzB;AACJ;AAAC,IAAAY,EAAA;AAAAsB,YAAA,CAAAtB,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}