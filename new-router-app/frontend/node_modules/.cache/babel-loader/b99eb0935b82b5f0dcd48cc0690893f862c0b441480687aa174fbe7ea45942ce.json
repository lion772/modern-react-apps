{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\willi\\\\Documents\\\\modern-react-apps\\\\new-router-app\\\\frontend\\\\src\\\\pages\\\\EditEvent.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport EventForm from \"../components/EventForm\";\nimport { useRouteLoaderData } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditEventPage = () => {\n  _s();\n  const data = useRouteLoaderData(\"event-detail\");\n  return /*#__PURE__*/_jsxDEV(EventForm, {\n    event: data.event\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 12\n  }, this);\n};\n_s(EditEventPage, \"4DBW6nwrvXRMSwRBgIay5Sszcp8=\", false, function () {\n  return [useRouteLoaderData];\n});\n_c = EditEventPage;\nexport default EditEventPage;\nexport async function action(_ref) {\n  let {\n    request,\n    params\n  } = _ref;\n  const eventId = params.eventId;\n  const data = await request.formData();\n  const eventData = {\n    title: data.get(\"title\"),\n    image: data.get(\"image\"),\n    date: data.get(\"date\"),\n    description: data.get(\"description\")\n  };\n  const response = await fetch(`http://localhost:8080/events`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(eventData)\n  });\n  if (response.status === 422) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({\n      message: \"Could not save event.\"\n    }, {\n      status: 500\n    });\n  } else {\n    return redirect(\"..\");\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"EditEventPage\");","map":{"version":3,"names":["React","EventForm","useRouteLoaderData","jsxDEV","_jsxDEV","EditEventPage","_s","data","event","fileName","_jsxFileName","lineNumber","columnNumber","_c","action","_ref","request","params","eventId","formData","eventData","title","get","image","date","description","response","fetch","method","headers","body","JSON","stringify","status","ok","json","message","redirect","$RefreshReg$"],"sources":["C:/Users/willi/Documents/modern-react-apps/new-router-app/frontend/src/pages/EditEvent.js"],"sourcesContent":["import React from \"react\";\r\nimport EventForm from \"../components/EventForm\";\r\nimport { useRouteLoaderData } from \"react-router-dom\";\r\n\r\nconst EditEventPage = () => {\r\n    const data = useRouteLoaderData(\"event-detail\");\r\n    return <EventForm event={data.event} />;\r\n};\r\n\r\nexport default EditEventPage;\r\n\r\nexport async function action({ request, params }) {\r\n    const eventId = params.eventId;\r\n    const data = await request.formData();\r\n    const eventData = {\r\n        title: data.get(\"title\"),\r\n        image: data.get(\"image\"),\r\n        date: data.get(\"date\"),\r\n        description: data.get(\"description\"),\r\n    };\r\n    const response = await fetch(`http://localhost:8080/events`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(eventData),\r\n    });\r\n\r\n    if (response.status === 422) {\r\n        return response;\r\n    }\r\n\r\n    if (!response.ok) {\r\n        throw json({ message: \"Could not save event.\" }, { status: 500 });\r\n    } else {\r\n        return redirect(\"..\");\r\n    }\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,SAASC,kBAAkB,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,IAAI,GAAGL,kBAAkB,CAAC,cAAc,CAAC;EAC/C,oBAAOE,OAAA,CAACH,SAAS;IAACO,KAAK,EAAED,IAAI,CAACC;EAAM;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC3C,CAAC;AAACN,EAAA,CAHID,aAAa;EAAA,QACFH,kBAAkB;AAAA;AAAAW,EAAA,GAD7BR,aAAa;AAKnB,eAAeA,aAAa;AAE5B,OAAO,eAAeS,MAAMA,CAAAC,IAAA,EAAsB;EAAA,IAArB;IAAEC,OAAO;IAAEC;EAAO,CAAC,GAAAF,IAAA;EAC5C,MAAMG,OAAO,GAAGD,MAAM,CAACC,OAAO;EAC9B,MAAMX,IAAI,GAAG,MAAMS,OAAO,CAACG,QAAQ,CAAC,CAAC;EACrC,MAAMC,SAAS,GAAG;IACdC,KAAK,EAAEd,IAAI,CAACe,GAAG,CAAC,OAAO,CAAC;IACxBC,KAAK,EAAEhB,IAAI,CAACe,GAAG,CAAC,OAAO,CAAC;IACxBE,IAAI,EAAEjB,IAAI,CAACe,GAAG,CAAC,MAAM,CAAC;IACtBG,WAAW,EAAElB,IAAI,CAACe,GAAG,CAAC,aAAa;EACvC,CAAC;EACD,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,8BAA6B,EAAE;IACzDC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACZ,SAAS;EAClC,CAAC,CAAC;EAEF,IAAIM,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;IACzB,OAAOP,QAAQ;EACnB;EAEA,IAAI,CAACA,QAAQ,CAACQ,EAAE,EAAE;IACd,MAAMC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAwB,CAAC,EAAE;MAAEH,MAAM,EAAE;IAAI,CAAC,CAAC;EACrE,CAAC,MAAM;IACH,OAAOI,QAAQ,CAAC,IAAI,CAAC;EACzB;AACJ;AAAC,IAAAxB,EAAA;AAAAyB,YAAA,CAAAzB,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}